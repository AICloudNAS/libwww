2000-09-01 	Zhu Qun-Ying <qunying@yahoo.com>

	* BUG FIX: wrong closing comment in Library/src/windows/config.h

2000-08-30 	Arthur Barstow <barstow@w3.org>

	* HTRDF.c: BUG FIX: nested typedNode constructs with
	  attributes caused re-using a free'd pointer.

	* HTRDF.c: per a request from the Redland RDF project, added 
	  a void * context parameter to HTRDF_parse{File,Buffer}.  
	  The application-specific context will be available in the 
	  triple callback handler.
	
        * HTRDF.html - updated to API changes mentioned above

	* Library/Examples/ updated rdf_parse_{file,buffer} programs
	  to reflect the above API changes.

2000-08-29 	Jose Kahan <jose@w3.org>

	* Temporarily commented the XML structured stream in HTXML.c
	  (HTXMLStructured_new) and its related code, as it creates
	  a dependency with the libwwwxml mini-library. If this code
	  is still useful, it should go into another module, HTSXML.c
	  to avoid the forced dependency.
	
2000-08-28 	Jose Kahan <jose@w3.org>

	* Updated expat to the test version 19990728, as this version
	  adds some interesting API extensions and is now being widely
	  used by other projects, including the Perl XML modules. The
	  previous version is CVS tagged as expat-1-1.
	
2000-08-18 	Arthur Barstow <barstow@w3.org>

	* HTRDF.c: Added a new public API HTRDF_parseBuffer.  It
          parses an arbitrary buffer (char *) of RDF.

	* HTRDF.c: Changed the name of HTRDFParseFile to HTRDF_parseFile.
          it now returns BOOL instead of char * to be consistent with
          other RDF parser APIs.

        * HTRDF.html - updated to HTRDF.c changes mentioned above

        * Library/Examples/: added two new example programs:

          1. rdf_parse_file - demos/tests HTRDF_parseFile()
          2. rdf_parse_buffer - demos/tests HTRDF_parseBuffer()

        * configure.in - added the two new programs above

        * Library/Examples/Makefile.am - added the two new programs

2000-08-17 	Arthur Barstow <barstow@w3.org>

	* HTRDF.c: Fixed a memory leak.  (HTElement structures for elements
	  within a property with parseType="Literal" were not free'd
	  after the parser was done.)

	* HTRDF.c: Bug fixes. Added code to circumvent calls to HTSAlloc 
	  (via StrAllocCopy) when the src and dest were identical (this 
	  causes a free'd pointer to be used) or both NULL.

	* HTRDF.c: Changed addMarkup{Add,End} to make one call to 
	  StrAllocMCat instead of multiple StrAllocCat calls.

2000-08-11 	Jose Kahan <jose@w3.org>

	* Memory leak. The HTPlain (HTPlain.c) stream wasn't freeing the
	  HTTextImp (me->text) object in the HTPlain_free and
	  HTPlain_abort. I found the bug while running the robot
	  thru Insure and found the fix by seeing what was being
	  done in the HTML (HTML.c) stream.

	* The make dist command wasn't copying the .c, .files, and .mak
	  files found in the Library/src/windows. As a result, the tar files
	  created with this command were missing those files. The problem
	  came from some wrong assumptions in the Makefile.am of the
	  windows directory.
	
2000-08-11 	Wayne Davison <wayne@clari.net>

	* Added two new functions to HTHash.c, HTHashtable_removeObject()
	  and HTHashTable_walk. The first one allows to delete individual
	  elements from a hash-table, the second one allows to walk
	  throug all associated elements in a table without having to ask 
	  for a list of all keys and then looking each one up. See
	  http://lists.w3.org/Archives/Public/www-lib/2000JulSep/0146.html
	  for a more detaile description on how to use these functions.
	  
	* I got rid of a few useless variable initializations in HTHash.c
	  (when the variables were being set to a value immediately
	  following the init value).

	* I removed some superfluous spaces that I saw.  

2000-08-10 	Wayne Davison <wayne@clari.net>

	* Since "cvs update" was complaining about a bunch of generated
	  files in the Library/src dir, I tweaked it to ignore the *.la
	  files and the .libs dir.

2000-08-10	Jose Kahan <jose@w3.org>

	* Because (IMO) of a very imbricated protocol stack, the Robot
	  could hang when accessing local files, as it become starved
	  on its own sockets. I fixed the problem by adding a new
	  state in HTFile:FileEvent() to take into account the case when
	  a request goes pending. This is mostly based on a previous 
	  (not commited) patch by Kinuko Yasuda, plus some long debugging to
	  find out what was happening and a fix to a memory bug that the
	  other patch had.

2000-08-08 	Wayne Davison <wayne@clari.net>
	
	* New HTChunk_setSize function to allow to set the size of a
	  chunk object upwards or downwards. (HTChunk_truncate() still
          exists and still enforces the sizing of the string downwards.)
          Both these string-sizing functions only zero the relevant bytes
          in the "size" region (if the string is being shortened).  Note
          that HTChunk_clear() was left unchanged -- it still clears all of
          the Chunk's allocated memory.
	
        * Fixed the HT_OUTOFMEM() calls in HTChunk_ensure() to have the
          proper location string.
	
        * Some code in HTBind.c was optimized to use HTChunk_truncate().
	
        * HTFTP.c and HTNews.c was optimized to use HTChunk_setSize()
	  rather than using HTChunk_ensure() and writing data past the "size".

        * Optimized the code in HTMIME.c and HTML.c to use
	  HTChunk_truncate(chunk,0) rather than HTChunk_clear(chunk).

	* Documented the new HTChunk_setSize() function.

	* Improved the comments for HTChunk_clear().

	* Fixed the comments for HTChunk_ensure() (it was describing the
	  extra-size parameter incorrectly).

	* Fixed the comments for HTChunk_toString() (to indicate that the
	  function destroys the chunk when handing off the CString data).

	* Fixed a few spelling errors in HTChunk.html.

	* Note: There are probably other places in the code that could be
	  optimized to use truncate rather than clear, but I didn't have 
	  time to check each one to see if the chunk's data was properly 
	  respecting the size indicator or not.

2000-08-09	Jose Kahan <jose@w3.org>

	* Updated the "how to bootstrap section" with instructions on what to
	  do if libtool and aclocal are installed in different directories.
	  Thanks to Ken Olum and James Henstrige for the tips.

2000-08-08	Jens Meggers <jens@meggers.com>

	* The cache garbage collector (HTCacheGarbage()) could go into an
	  endless loop when it tried to removed locked entries. The problem
	  was that it wasn't checking the return code of HTCache_remove().

2000-08-07 	Wayne Davison <wayne@clari.net>

	* Changed the macro argument from "data" to "dp" in 
	  HTArray_firstObject() and HTArray_nextObject(). These macros
	  are defined such that if the caller doesn't pass in a variable
	  named exactly "data" as the second parameter, there will either be a
	  syntax error generated during the compilation OR the wrong structure 
	  element will get referenced.  This is because the macro argument 
	  "data" was the same name as the HTArray structure element that was
	  being referenced in the macro.
