2000-08-10	Jose Kahan <jose@w3.org>

	* Because (IMO) a very imbricated protocol stack, the Robot
	  could hang when accessing local files, as it become starved
	  on it's own sockets. I fixed the problem by adding a new
	  state in HTFile:FileEvent() to take into account the case when
	  a request goes pending. This is mostly based on a previous 
	  (not commited) patch by Kinuko Yasuda, plus some long debugging to
	  find out what was happening and a fix to a memory bug that the
	  other patch had.

2000-08-08 	Wayne Davison <wayne@clari.net>
	
	* New HTChunk_setSize function to allow to set the size of a
	  chunk object upwards or downwards. (HTChunk_truncate() still
          exists and still enforces the sizing of the string downwards.)
          Both these string-sizing functions only zero the relevant bytes
          in the "size" region (if the string is being shortened).  Note
          that HTChunk_clear() was left unchanged -- it still clears all of
          the Chunk's allocated memory.
	
        * Fixed the HT_OUTOFMEM() calls in HTChunk_ensure() to have the
          proper location string.
	
        * Some code in HTBind.c was optimized to use HTChunk_truncate().
	
        * HTFTP.c and HTNews.c was optimized to use HTChunk_setSize()
	  rather than using HTChunk_ensure() and writing data past the "size".

        * Optimized the code in HTMIME.c and HTML.c to use
	  HTChunk_truncate(chunk,0) rather than HTChunk_clear(chunk).

	* Documented the new HTChunk_setSize() function.

	* Improved the comments for HTChunk_clear().

	* Fixed the comments for HTChunk_ensure() (it was describing the
	  extra-size parameter incorrectly).

	* Fixed the comments for HTChunk_toString() (to indicate that the
	  function destroys the chunk when handing off the CString data).

	* Fixed a few spelling errors in HTChunk.html.

	* Note: There are probably other places in the code that could be
	  optimized to use truncate rather than clear, but I didn't have 
	  time to check each one to see if the chunk's data was properly 
	  respecting the size indicator or not.

2000-08-09	Jose Kahan <jose@w3.org>

	* Updated the "how to bootstrap section" with instructions on what to
	  do if libtool and aclocal are installed in different directories.
	  Thanks to Ken Olum and James Henstrige for the tips.

2000-08-08	Jens Meggers <jens@meggers.com>

	* The cache garbage collector (HTCacheGarbage()) could go into an
	  endless loop when it tried to removed locked entries. The problem
	  was that it wasn't checking the return code of HTCache_remove().

2000-08-07 	Wayne Davison <wayne@clari.net>

	* Changed the macro argument from "data" to "dp" in 
	  HTArray_firstObject() and HTArray_nextObject(). These macros
	  are defined such that if the caller doesn't pass in a variable
	  named exactly "data" as the second parameter, there will either be a
	  syntax error generated during the compilation OR the wrong structure 
	  element will get referenced.  This is because the macro argument 
	  "data" was the same name as the HTArray structure element that was
	  being referenced in the macro. 
