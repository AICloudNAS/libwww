<HTML>
<HEAD>
  <TITLE>Getting Libwww from the CVS Repository</TITLE>
  <LINK rel=STYLESHEET href="../StyleSheets/Area/Overview.css" type="text/css">
</HEAD>
<BODY BGCOLOR="#ffffff">
<P>
<A HREF="../"><IMG SRC="../Icons/WWW/w3c_home" ALT="W3C" BORDER="0"></A>
<A HREF="./"><IMG SRC="../Icons/WWW/Lib48x" ALT="libwww" BORDER="0"></A>
<H1>
  Getting Libwww from the CVS Repository
</H1>
<P>
<DIV class="intro">
  <A HREF="http://www.cyclic.com/cvs/info.html">CVS</A> allows
  <STRONG>YOU</STRONG> to follow the development of <A HREF="./">libwww</A>
  and its <A HREF="User/Applications.html">sample applications</A> closely
  and to contribute with patches and new features.
  <UL>
    <LI>
      <A HREF="#Releases">How does libwww releases and CVS work together?</A>
    <LI>
      <A HREF="#Anonymous">How to check out libwww from CVS</A>
    <LI>
      <A HREF="#SSH">SSH Based CVS Checkout</A>
    <LI>
      <A HREF="#update">How to get the latest edits from CVS</A>
    <LI>
      <A HREF="#Write">CVS Write access and policy</A>
    <LI>
      <A HREF="#Boot">How to get bootstrapped after checking out</A>
    <LI>
      <A HREF="#Compiling">How to compile libwww</A>
  </UL>
  <P>
  The following requires that you are familiar with CVS - if not then look
  at <A HREF="http://www.cyclic.com/cvs/info.html">Cyclic's pages on CVS</A>
  or the <A HREF="http://www.loria.fr/~molli/cvs-index.html">excellent
  information</A> provided by
  <A HREF="http://www.loria.fr/~molli/">Pascal.Molli</A>.
</DIV>
<P>
  <HR>
<H2>
  <A NAME="Releases">Libwww Releases</A>
</H2>
<P>
CVS allows you to use the very latest version of libwww - as soon as a fix
or a new feature is commited to the CVS repository then you can update your
working version and you will have it right away.
<P>
The purpose of "releases" is to say that now we believe that the code is
stable with a well defined set of features. Until now, we have been giving
out distribution files every time we announced a release. This will not change,
but you can <A HREF="http://dev.w3.org/cgi-bin/cvsweb/">use the CVS
repository</A> in exactly the same way - often with much less overhead than
dealing with a distribution package.
<P>
Every release is marked in the CVS repository using tags, so that it is possible
to retrieve a complete release using the CVS <CODE>-r </CODE>option (note
that <CODE>-r</CODE> is "sticky"). Check out the online
<A HREF="http://dev.w3.org/cgi-bin/cvsweb/">CVS log walker</A> for the current
set of release tags. We were less strict tagging all the files in early releases
so don't go too far back in the past if you expect to be able to compile
the code!
<H2>
  <A NAME="Anonymous">Anonymous CVS Checkout</A>
</H2>
<P>
Anonymous checkout is read-only access which allows you to get the latest
edits and to provide patches to be integrated into the code base. The
instructions should work for both
<A HREF="http://www.cyclic.com/cvs/unix.html">Unix</A> and
<A HREF="http://www.cyclic.com/cvs/windows.html">Windows</A>, and may even
work for <A HREF="http://www.cyclic.com/cvs/mac.html">Macs</A> although I
am not sure.&nbsp;Make sure you are running at least CVS 1.9 or later. Start
by login as follows:
<PRE>% <STRONG>cvs -d :pserver:anonymous@dev.w3.org:/sources/public login</STRONG>
</PRE>
<P>
after which you type "<STRONG>anonymous</STRONG>" as password.
<H3>
  <A NAME="latest">Checkout the Latest Version</A>
</H3>
<P>
To get the <EM>latest</EM> version from the CVS repository, run this command:
<PRE>% <STRONG>cvs -d :pserver:anonymous@dev.w3.org:/sources/public -z3 checkout libwww</STRONG>
</PRE>
<P>
After which you will get all the code coming at you, you'd better have at
least 10MBytes available on your machine. Now you are ready to
<A HREF="#Boot">getting boot strapped</A>.
<H3>
  <A NAME="revision">Checkout a Specific Revision</A>
</H3>
<P>
If you want to get a <A HREF="#Releases">specific release</A> using CVS tags
then you can do this by using the the CVS "<TT>-r</TT>" option, for example
<PRE>% <STRONG>cvs -d :pserver:anonymous@dev.w3.org:/sources/public -z3 -r Release-5-2 checkout libwww</STRONG>
</PRE>
<P>
Check the <A HREF="http://dev.w3.org/cgi-bin/cvsweb/">CVS log walker</A>
for the current set of release tags. If you at some point want to revert
to the latest untagged version then you should use the following command:
<PRE>% <STRONG>cd libwww</STRONG>
% <STRONG>cvs -z3 update -A</STRONG>
</PRE>
<H2>
  <A NAME="Write">CVS Write Access</A>
</H2>
<P>
Only <A HREF="Collaborators.html">libwww collaborators</A> who have intimate
knowledge of the code base and have proven their ability to code libwww have
CVS write access. If you are <A HREF="Collaborators.html#How">considering
becoming a libwww contributor</A> then make sure that you have read the
<A HREF="User/Style/">libwww style guide</A> as well as
<A HREF="BeforeCommitting.html">the list of things to do</A> before committing
changes to libwww.
<H2>
  <A NAME="SSH">SSH Based CVS Checkout</A>
</H2>
<P>
<A HREF="Collaborators.html">Libwww collaborators</A> can get read/write
access to the CVS repository using
<A HREF="http://www.cs.hut.fi/ssh/">SSH</A>. You setup CVS to use SSH as
remote shell by setting the <CODE>CVS_RSH</CODE> env variable. Using bash
or similar, it looks like this:
<PRE>% <STRONG>export CVS_RSH=/usr/local/bin/ssh</STRONG>
</PRE>
<P>
When you are using SSH, you don't need to do a CVS login. Instead you can
just go ahead checking out libwww like this
<PRE>% <STRONG>cvs -d dev.w3.org:/sources/public checkout libwww</STRONG>
</PRE>
<P>
and you will be prompted for your SSH credentials. Again, if you want a specific
revision then use something like this
<PRE>% <STRONG>cvs -d dev.w3.org:/sources/public -r Release-5-2 checkout libwww</STRONG>
</PRE>
<P>
The <A HREF="http://www.apache.org">Apache Group</A> has some
<A HREF="http://dev.apache.org/nt-cvs-ssh.txt">special notes on how to use
SSH for Windows</A>.
<H2>
  <A NAME="update">How to Get the Latest Updates</A>
</H2>
<P>
The big advantage of using CVS is that you easily can keep your version of
the code base up to date with the
<A HREF="Changes">latest edits and changes committed
to CVS</A>. Whenever something has been committed, a notification will be
sent to the
&lt;<A HREF="http://lists.w3.org/Archives/Public/www-lib/">www-lib@w3.org</A>&gt;
mailing list (<A HREF="http://www.w3.org/Mail/Request">see here how to
subscribe</A>) as well as getting listed on the
<A HREF="Changes">latest changes page</A>.
<P>
Once you have <A HREF="#latest">checked out the libwww CVS tree</A>
(<A HREF="#revision">not a specific revision</A>), you can get any updates
committed to the tree by using the
<A HREF="http://www.loria.fr/~molli/cvs/doc/cvs_16.html#SEC148">cvs update
command</A> like this
<PRE>% <STRONG>cd libwww</STRONG>
% <STRONG>cvs -z3 update -d</STRONG>
% <STRONG>cd ..</STRONG>
</PRE>
<P>
It is important that you use the "<TT>-d</TT>" flag so that you get new
directories as well as updated files. Now you <STRONG>MUST</STRONG>
<A HREF="#Easy">repeat the compilation bootstrapping</A> procedure.
<H2>
  <A NAME="Boot">Getting Bootstrapped</A>
</H2>
<P>
When compiling directly from the CVS repository there are a few steps you
have to go through which are already done if compiling from a distribution
package. For example, the <TT>*.h</TT>, <TT>Makefile</TT>, and <TT>*.def</TT>
files must be generated before you can compile. Generate the files by following
these steps:
<H3>
  <A NAME="Easy">Windows and Unix</A>
</H3>
<P>
On <EM>both</EM> Windows and Unix you can generate the <TT>*.h</TT> files
and the <TT>*.def</TT> files by running a
<A HREF="http://www.perl.org">Perl</A> script provided by
<A HREF="/People/Eric/">Eric Prud'hommeaux</A>. Never mind that it gives
a few warnings when it runs - they are all OK. It requires that you have
a recent version of <A HREF="http://www.perl.org">Perl</A> on your machine.
Run the script like this (note the explicit use of the perl interpreter):
<PRE>% <STRONG>cd libwww</STRONG>
% <STRONG>perl config/winConfigure.pl</STRONG>
</PRE>
<P>
Windows people are now done and can jump directly to the instructions for
<A HREF="../INSTALL.html#Windows">how to compile libwww for Windows</A>.
On Unix, you <A HREF="#More">need some more</A>...
<H3>
  <A NAME="More">Unix (continued)</A>
</H3>
<P>
On Unix you <STRONG>MUST</STRONG> have the following GNU tools installed
in order to continue. Check that you have the following programs with the
correct version number:
<DL>
  <DT>
    <A HREF="http://www.gnu.org/order/ftp.html"><STRONG>gcc</STRONG></A> and
    <A HREF="http://www.gnu.org/order/ftp.html"><STRONG>GNU make</STRONG></A>
  <DD>
    Automake relies on features provided by gcc and GNU make that don't come
    with other compilers and makes. When compiling directly from our CVS repository
    you MUST therefore use these tools.
  <DT>
    <STRONG><A HREF="http://sourceware.cygnus.com/automake/">GNU automake</A>
    (version 1.4 or later)</STRONG>
  <DD>
    Automake is a tool for automatically generating Makefile.in's which are used
    by autoconf
  <DT>
    <STRONG><A HREF="http://sourceware.cygnus.com/autoconf/">GNU autoconf</A>
    (version 2.13 or later)</STRONG>
  <DD>
    A tool for automatically generating Makefile's which are used by make
  <DT>
    <STRONG><A HREF="http://www.gnu.org/software/libtool/libtool.html">GNU
    libtool</A> (version 1.2d or later)</STRONG>
  <DD>
    A tool for automatically handling generation of shared libraries. If you
    upgrade libtool to a new version then you <STRONG>MUST</STRONG> rerun the
    configure script as some files used by libtool have to be regenerated.
</DL>
<P>
<STRONG>Optionally</STRONG> these tools are used by libwww if available
<DL>
  <DT>
    <STRONG><A HREF="../LineMode/">W3C www</A></STRONG>
  <DD>
    If available then the libwww Line Mode Browser is used by the makefiles to
    generate the header files (from <CODE>.html</CODE> to <CODE>.h</CODE>) and
    some other files as needed. If not available then the <A HREF="#Easy">perl
    script</A> is used instead.
</DL>
<H4>
  Using the GNU Tools
</H4>
<P>
After having checked that you have the programs you need, you are now ready
to use them. Don't worry about the
<A HREF="http://subzero.campus.luth.se/FreeDocs/autoconf-2.12/autoconf_44.html#IDX36">warnings
produced by autoconf</A>&nbsp;- that's OK. Run them like this:
<PRE>% <STRONG>aclocal</STRONG>; <STRONG>autoheader; automake</STRONG>; <STRONG>autoconf</STRONG>
</PRE>
<P>
Now you <STRONG>MUST</STRONG> run the configure script as described in the
next section on <A HREF="#Compiling">installation instructions</A>. If for
some reason <EM>you have trouble</EM> running the configure script then try
and run this command instead
<PRE>% <STRONG>make distclean</STRONG>; <STRONG>autoheader; automake</STRONG>; <STRONG>autoconf</STRONG>
</PRE>
<H2>
  <A NAME="Compiling">Compiling libwww</A>
</H2>
<P>
Remember to <A HREF="mailto:www-lib-request@w3.org?subject=subscribe">subscribe
to the &lt;www-lib@w3.org&gt;</A> mailing list
(<A HREF="http://www.findmail.com/list/www-lib/">findmail archives</A>) for
information of new features as well as discussions of problems and ideas.
<P>
Libwww uses <A HREF="http://www.gnu.org/software/libtool/libtool.html">GNU
Libtool</A> in order to build shared libraries on a variety of systems. While
this is very nice for making usable binaries, it can be a pain when trying
to debug a program. For that reason, compilation of shared libraries can
be turned off by specifying the <CODE>--disable-shared</CODE> option to
<CODE>configure</CODE>.
<P>
Congratulations - you are now ready to <A HREF="../INSTALL.html">compile
libwww</A>!
<P>
  <HR>
<ADDRESS>
  <A HREF="../People/Frystyk/">Henrik Frystyk Nielsen</A>,<BR>
  @(#) $Id$
</ADDRESS>
</BODY></HTML>
