<HTML>
<HEAD>
  <!-- Changed by: Henrik Frystyk Nielsen, 16-May-1996 -->
  <TITLE>W3C Sample Code Library libwww Timer Class</TITLE>
</HEAD>
<BODY>
<H1>
  The Timer Class
</H1>
<PRE>
/*
**	(c) COPYRIGHT MIT 1995.
**	Please first read the full copyright statement in the file COPYRIGH.
*/
</PRE>
<P>
The Timer class handles timer for libwww and the application. This works
exactly as in X where you create a timer object with a callback function
and a timeout. The callback will be called every time the timer expires.
<PRE>
#ifndef HTTIMER_H
#define HTTIMER_H

#include "wwwsys.h"
#include "HTReq.h"

#ifndef IN_EVENT
typedef struct _HTTimer HTTimer;
#endif

typedef int HTTimerCallback (HTTimer *, void *, HTEventType type);
</PRE>
<H3>
  Create and Delete Timers
</H3>
<PRE>
extern HTTimer * HTTimer_new (HTTimer *, HTTimerCallback *, 
			      void *, ms_t millis, BOOL relative);
extern BOOL HTTimer_refresh(HTTimer * timer, ms_t now);
extern BOOL HTTimer_delete (HTTimer * timer);
extern BOOL HTTimer_deleteAll (void);
extern int HTTimer_dispatch (HTTimer * timer);
extern ms_t HTTimer_getTime(HTTimer * timer);
</PRE>

<H3>
Platform Specific Timers
</H3>

On some platform, timers are supported via events or other OS specific
mechanisms. You can make libwww can support these by registering a
platform specific timer add and timer delete method.

<PRE>
typedef BOOL HTTimerSetCallback (HTTimer * timer);

extern BOOL HTTimer_registerSetTimerCallback (HTTimerSetCallback * cbf);
extern BOOL HTTimer_registerDeleteTimerCallback (HTTimerSetCallback * cbf);
</PRE>

<H3>
  Get the next timer in line
</H3>
<P>
Dispatches all expired timers and optionally returns the time till the
next one.
<PRE>
extern int HTTimer_next (ms_t * pSoonest);
</PRE>

<PRE>
#endif /* HTTIMER_H */
</PRE>
<P>
  <HR>
<ADDRESS>
  @(#) $Id$
</ADDRESS>
</BODY></HTML>
