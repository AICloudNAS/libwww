<HEADER>
<TITLE>File access in libwww</TITLE></HEADER>
<BODY>
<H1>File Access</H1>These are routines for file access
used by WWW browsers.
<PRE>#ifndef HTFILE_H
#define HTFILE_H

#include "HTFormat.h"
#include "HTAccess.h"
#include "HTML.h"		/* SCW */


 
</PRE>
<H2>Controlling globals</H2>These flags control how directories
and files are represented as hypertext,
and are typically set by the application
from command line options, etc.
<PRE>extern int HTDirAccess;		/* Directory access level */

#define HT_DIR_FORBID 		0	/* Altogether forbidden */
#define HT_DIR_SELECTIVE	1	/* If HT_DIR_ENABLE_FILE exists */
#define HT_DIR_OK		2	/* Any accesible directory */

#define HT_DIR_ENABLE_FILE	".www_browsable" /* If exists, can browse */

extern int HTDirReadme;		/* Include readme files in listing? */
					/* Values: */
#define HT_DIR_README_NONE	0	/* No */
#define HT_DIR_README_TOP	1	/* Yes, first */
#define HT_DIR_README_BOTTOM	2	/* Yes, at the end */

#define HT_DIR_README_FILE		"README"


</PRE>
<H2>Convert filenames between local and
WWW formats</H2>
<PRE>extern char * HTLocalName PARAMS((CONST char * name));


</PRE>
<H2>Make a WWW name from a full local
path name</H2>
<PRE>extern char * WWW_nameOfFile PARAMS((const char * name));


</PRE>
<H2>Generate the name of a cache file</H2>
<PRE>extern char * HTCacheFileName PARAMS((CONST char * name));


</PRE>
<H2>Define the representation for a file
suffix</H2>
<PRE>
/* On entry,
**	suffix		includes the "." if that is important (normally, yes!)
**	representation	is MIME-style
**	quality		an a priori judgement of the quality of such files
**
** Example:   HTSetSuffix(".ps", "application/postscript", 1.0);
**
*/

extern void HTSetSuffix PARAMS((
	CONST char *	suffix,
	CONST char *	representation,
	float		quality));
	

</PRE>
<H2>Determine file format from file name</H2>
<PRE>

extern HTFormat HTFileFormat PARAMS((
		CONST char * filename));


</PRE>
<H2>Determine file format from file name</H2>
<PRE>

extern float HTFileValue PARAMS((
		CONST char * filename));


</PRE>
<H2>Determine write access to a file</H2>
<H3>On exit,</H3>
<DL>
<DT>return value
<DD> YES if file can be accessed
and can be written to.
</DL>

<PRE>
</PRE>
<H3>Bugs</H3>Isn't there a quicker way?
<PRE>

extern BOOL HTEditable PARAMS((CONST char * filename));


</PRE>
<H2>Determine a suitable suffix, given
the representation</H2>
<H3>On entry,</H3>
<DL>
<DT>rep
<DD> is the atomized MIME style representation
</DL>

<H3>On exit,</H3>
<DL>
<DT>returns
<DD> a pointer to a suitable suffix
string if one has been found, else
NULL.
</DL>

<PRE>extern CONST char * HTFileSuffix PARAMS((
		HTAtom* rep)); 



</PRE>
<H2>The Protocols</H2>
<PRE>extern HTProtocol HTFTP, HTFile;

#endif /* HTFILE_H */

</PRE>end of HTFile</BODY>
