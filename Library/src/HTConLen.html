<HTML>
<HEAD>
  <!-- Changed by: Henrik Frystyk Nielsen, 23-Mar-1996 -->
  <TITLE>W3C Reference Library libwww Content Length Counter Stream</TITLE>
</HEAD>
<BODY>
<H1>
  Content Length Counter Stream
</H1>
<PRE>
/*
**	(c) COPYRIGHT MIT 1995.
**	Please first read the full copyright statement in the file COPYRIGH.
*/
</PRE>
<P>
This stream also buffers the result to find out the content length before
the data is forwarded to the target stream. This means that you can use this
stream when generating a HTTP response in order to find the content length
before writing the object to the socket, for example If a maximum buffer
limit is reached Content-Length is calculated for logs but it is not sent
to the client -- rather the buffer is flushed right away. Code taken from
HTRequest.c written by Ari Luotonen and modified to fit new stream model.
The buffer stream is a small buffer that can be used to optimize net work
access in order to prevent multiple writes.
<P>
This module is implemented by <A HREF="HTConLen.c">HTConLen.c</A>, and it
is a part of the <A HREF="http://www.w3.org/pub/WWW/Library/"> W3C Reference
Library</A>.
<PRE>
#ifndef HTCONLEN_H
#define HTCONLEN_H
</PRE>
<H2>
  Content Length Counter Stream
</H2>
<P>
This stream can be inserted anywhere to count the content length of the body.
The result is passed to the <A HREF="HTAnchor.html">Anchor object</A> of
this request so that future requests for the content length will get the
right size.
<PRE>extern HTStream * HTContentCounter	(HTStream *	target,
					 HTRequest *	request,
					 int		max_size);
</PRE>
<H2>
  Buffer Stream
</H2>
<P>
This stream does almost the same as the content length counter stream except
that it doesn't count the length! In other words - it's a completely normal
memory buffer for the stream.
<PRE>extern HTStream * HTBuffer_new		(HTStream *	target,
					 HTRequest *	request,
					int		max_size);
</PRE>
<P>
End of definition module
<PRE>
#endif /* HTCONLEN_H */
</PRE>
<P>
  <HR>
<ADDRESS>
  @(#) $Id$
</ADDRESS>
</BODY></HTML>
