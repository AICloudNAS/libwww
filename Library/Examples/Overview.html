<HTML>
<HEAD>
  <TITLE>Libwww Ready to go Samples</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000">
<P>
<A HREF="../../"><IMG SRC="../../Icons/WWW/w3c_home" ALT="W3C" BORDER="0"></A>
<A HREF="../"><IMG SRC="../../Icons/WWW/Lib48x" ALT="libwww" BORDER="0"></A>
<H1>
  Libwww Ready to go Samples
</H1>
<P ALIGN=Center>
<A HREF="#Initialization">Initialization</A> | <A HREF="#GET">GET</A> |
<A HREF="#HEAD">HEAD</A> | <A HREF="#PUT">PUT</A> | <A HREF="#POST">POST</A>
| <A HREF="#TRACE">TRACE</A> | <A HREF="#OPTIONS">OPTIONS</A> |
<A HREF="#HTML">HTML Parsing</A> | <A HREF="#XML">XML Parsing</A>
|&nbsp;<A HREF="#serve">Serving Requests</A> | <A HREF="#event">Eventloop</A>
| <A HREF="#Big">Big sample apps</A>
<P>
This is the list of small examples using the very basic features of the Library.
If you have not already compiled the library then please read the
<A HREF="../../INSTALL.html">Installation guide</A> before you continue.
If you want more details of how to use the Library then please read the
<A HREF="../User/Using/">User's Guide</A>.
<P>
In the example we assume that the compiler knows where to look for libwww
include files and the binary library itself. &nbsp;If you are using the GNU
autoconf configure script then the examples are built as part of the overall
package. On <A HREF="../User/Platform/">other platforms</A>, you must provide
the make file on your own.
<H2>
  <A NAME="Initialization">Initialization Samples</A>
</H2>
<DL>
  <DT>
    <A HREF="libapp_1.c">Start and Stop the Library</A>
  <DD>
    This is a dummy program that just initializes as terminates the Library
  <DT>
    <A HREF="init.c">Default Initialization of libwww</A>
  <DD>
    This example shows how to set up all the default handlers, parsers, converters,
    etc. using the <A HREF="../src/WWWInit.html">WWWInit interface</A>.
  <DT>
    <A HREF="libapp_2.c">Specialized Initialization of libwww</A>
  <DD>
    This example show how to register a protocol module and a stream converter
  <DT>
    <A HREF="tzcheck.c">Timezone sampler</A>
  <DD>
    Figures out what timezone you are in. This is important for libwww to know
    as the persistent cache and a lot of other things depends on it.
</DL>
<H2>
  Client Requests using libwww
</H2>
<P>
These sample programs are all using libwww as a&nbsp;client side library
which is what comes most natural to libwww.
<H3>
  <A NAME="GET">Samples using GET Requests</A>
</H3>
<DL>
  <DT>
    <A HREF="chunk.c">Load a document and headers into memory</A>
  <DD>
    A simple example of how you can create a memory buffer containing the contents
    of the URL <I>and</I> all the protocol headers.
  <DT>
    <A HREF="chunkbody.c">Load a document without headers into memory</A>
  <DD>
    This program shows how to load a URL into memory <I>without</I> getting the
    header information.
  <DT>
    <A HREF="libapp_3.c">Load a document and count the number of bytes in the
    body</A>
  <DD>
    This is an example of how you can add streams and then get the desired result.
    The example shows how to add a content length counter stream and get the
    result back.
  <DT>
    Load a document and dump to local File
  <DD>
    We here show how to fetch a document using HTTP and to save it to local file.
    You must specify a local file name on the command line. There are two versions
    of this program: The <A HREF="libapp_4.c">preemptive version</A> with
    <B>no</B> event loop and the <A HREF="LoadToFile.c">non-preemptive version</A>
    for <B>integration</B> with Windows' event&nbsp;and other event loops.
  <DT>
    <A HREF="multichunk.c">Load the same document <TT>n</TT> times using blocking
    sockets</A>
  <DD>
    You can use this (but be careful) to beat up a server with the same document
    as fast as possible.
  <DT>
    <A HREF="mget.c">Load the same document <TT>n</TT> times using non-blocking
    sockets</A>
  <DD>
    Be careful! Also remember that only <TT>GET</TT> and <TT>HEAD</TT> requests
    can be pipelined in HTTP - not <TT>POST</TT>, for example.
  <DT>
    <A HREF="range.c">Range Requests</A>
  <DD>
    Range requests can be used to ask for a part or for several parts of a document
    from an HTTP server without asking for the whole thing. The output is sent
    directly to stdout. Run the program without parameters for instructions.
</DL>
<H3>
  <A NAME="HEAD">Samples using HEAD Requests</A>
</H3>
<DL>
  <DT>
    <A HREF="head.c">Issue a HEAD request</A>
  <DD>
    This small example sets up a request and performs a HEAD method on the resource
    provided on the command line
  <DT>
    <A HREF="isredirected.c">Issue a HEAD request and check for redirections</A>
  <DD>
    A small program that sends a request out and checks whether is was redirected.
    If so then print out the redirected address
</DL>
<H3>
  <A NAME="PUT">Samples using PUT Requests</A>
</H3>
<DL>
  <DT>
    <A HREF="put.c">Simple PUT program</A>
  <DD>
    Lets you save a document to an HTTP server. Note that both input and output
    is a Web address (URI) so you can save a document from anywhere to anywhere.
  <DT>
    <A HREF="memput.c">Save data from memory to a remote server</A>
  <DD>
    This sample shows you how to use temporary anchors and how to save data from
    memory using PUT
</DL>
<H3>
  <A NAME="POST">Samples using POST Requests</A>
</H3>
<DL>
  <DT>
    <A HREF="postform.c">Post an HTML Form</A>
  <DD>
    Use this example to POST HTML form data to a server
  <DT>
    <A HREF="post.c">Post data from memory to a remote server</A>
  <DD>
    This sample shows you how to use temporary anchors and how to POST data from
    memory
</DL>
<H3>
  <A NAME="TRACE">Samples using TRACE Requests</A>
</H3>
<DL>
  <DT>
    <A HREF="trace.c">Send a TRACE request to a server</A>
  <DD>
    Allows to include the max number of hops (proxies) the request must pass
</DL>
<H3>
  <A NAME="OPTIONS">Samples using OPTIONS Requests</A>
</H3>
<DL>
  <DT>
    Send an OPTIONS request to a server - this is yet an exercise for the user!
  <DD>
    It should allow support for sending <TT>OPTIONS</TT> on a * URI (although
    I really don't like that!)
</DL>
<H2>
  <A NAME="HTML">HTML Parsing</A>
</H2>
<P>
Three small sample apps that show how to use the new
<A HREF="../src/HText.html">HText interface</A> and the
<A HREF="../src/HTML.html\">libwww HTML parser</A>.
<DL>
  <DT>
    <A HREF="showlinks.c">showlinks.c</A>
  <DD>
    Parses a document and writes out all the links that it found to stdout
  <DT>
    <A HREF="showtags.c">showtags.c</A>
  <DD>
    Parses a document and writes out all the HTML tags found to stdout
  <DT>
    <A HREF="showtext.c">showtext.c</A>
  <DD>
    Parses a document and writes out all the "plain" text - that is what's between
    the HTML markup
  <DT>
    <A HREF="tiny.c">tiny.c</A>
  <DD>
    Is a very rudimentary HTTP/HTML browser with no layout engine and no fuzz.
    It's main feature is that it is small (&lt;200K when stripped on linux).
</DL>
<H2>
  <A NAME="XML">XML Parsing</A>
</H2>
<P>
Here are some sample apps that show how to use libwww together with
<A HREF="http://www.jclark.com/xml/expat.html">James Clark's expat XML parser</A>
<DL>
  <DT>
    <A HREF="showxml.c">showxml.c</A>
  <DD>
    A simple program that shows all XML start and end tags and nothing else
</DL>
<H2>
  <A NAME="serve">Server Requests using libwww</A>
</H2>
<P>
Although libwww is primarily for clients, it is in fact symmetric in that
it can handle both client requests and server requests. The way this is handled
is that each <A HREF="../src/HTProt.html">protocol</A> is registered with
both a client handler and a server handler - depending on which type of request
you use, one of them is called. Note that in order to be able to serve any
document, there actually have to be a server handler. Currently, libwww only
comes with a <A HREF="../src/HTSocket.html">raw socket loader</A> which isn't
much of a server.
<DL>
  <DT>
    <A HREF="listen.c">Listen on a socket</A>
  <DD>
    This sample program opens a raw socket and listens on that port. Anything
    arriving is forwarded asis to stdout
</DL>
<H2>
  <A NAME="event">Using the Eventloop</A>
</H2>
<P>
Libwww is designed using a "coke machine model", in other words using
asynchronous requests for most of its operations. For <TT>GET</TT> and
<TT>HEAD</TT> requests you can also use synchronous requests, but they are
not as flexible and requires more care.
<DL>
  <DT>
    <A HREF="eventloop.c">Simple eventloop</A>
  <DD>
    Keeps loading the same file whenever a user enters something. Stop the
    application by hitting "<TT>q</TT>"
</DL>
<H2>
  <A NAME="Big">Bigger Sample Applications</A>
</H2>
<P>
You can also have a look at the more
<A HREF="../User/Applications.html">complete sample applications</A> which
are capable of doing more interesting things. If you have any example code
that you would like to <A HREF="../../PATCHES.html">share with us</A> then
please send us a mail so that we can add it to this page.
<P>
  <HR>
<ADDRESS>
  <A HREF="/People/Frystyk/">Henrik Frystyk Nielsen</A>,<BR>
  @(#) $Id$
</ADDRESS>
</BODY></HTML>
