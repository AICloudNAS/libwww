<HTML>
<HEAD>
  <TITLE>Before Committing Changes to CVS</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000">
<P>
<A HREF="../"><IMG SRC="../Icons/WWW/w3c_home" ALT="W3C" BORDER="0"></A>
<A HREF="./"><IMG SRC="../Icons/WWW/Lib48x" ALT="libwww" BORDER="0"></A>
<H1>
  Before Committing Changes to CVS
</H1>
<P>
CVS is a great tool allowing multiple developers to work simultaneously on
the same code base. However, in order to make it work in practice, we need
to have a well-established work policy for how to use CVS and so this document
describes the policy for <A HREF="./">libwww</A> and all its
<A HREF="User/Applications.html">sample applications</A>. The rules are made
in order to ensure that when you check out a copy of libwww then the
<A HREF="cvs.html">CVS'ed version</A> is always capable of compiling!
<P>
<DL>
  <DT>
    <B>Make sure that everything compiles</B> before committing anything
  <DD>
    Do a "<CODE>make</CODE>" on everything in the libwww package and make sure
    there are no warnings, errors and the like
  <DT>
    <B>Do never do any pretty printing</B> of the code
  <DD>
    Read the <A HREF="User/Style/">Programming Style Guide</A> for more details
    why things are the way they are.
  <DT>
    <B>Make sure that all changes are the ones you expect</B>
  <DD>
    Do a "<CODE>cvs diff</CODE>" between your work version and the repository
    in order to filter out unwanted comments and other stuff that you may have
    left
  <DT>
    <B>Resolve any conflicts</B> by sending a mail to the
    <A HREF="http://lists.w3.org/Archives/Public/www-lib/">&lt;www-lib@w3.org&gt;</A>
    mailing list asking for input
  <DD>
    Don't just remove other people's edits! Often the best way is simply to use
    <CODE>#if 0</CODE> ... <CODE>#endif</CODE>
  <DT>
    <B>Send a mail</B> to the
    <A HREF="http://lists.w3.org/Archives/Public/www-lib/">&lt;www-lib@w3.org&gt;</A>
    mailing list announcing that you are <B>about</B> to commit a new version
  <DD>
    Explain what other people should look out for and ask for feedback
  <DT>
    <B>Document what you have done</B> in the
    <A HREF="http://dev.w3.org/cgi-bin/cvsweb/">CVS log</A> and the
    <A HREF="User/ReleaseNotes.html">release notes</A>
  <DD>
    So that others can figure out what has happened
  <DT>
    Remember to<B> add new files to CVS </B>so that the other people get them
  <DD>
    Look at it this way: if a file is not in CVS, it doesn't exist! You can check
    this by using "<CODE>cvs update</CODE>". All unknown files are marked with
    a "?". Note that <CODE>.h</CODE> files are not in CVS - only <CODE>.html
    </CODE>files!
  <DT>
    <B>Do not touch the repository directly</B> under any circumstances
  <DD>
    The repository is characterized with a set of <CODE>,v</CODE> files - typically
    in a directory called <CODE>Repository</CODE> and you shouldn't mess around
    with them at all.
</DL>
<P>
Again, following the rules are <B>very important</B> in order not to waste
any time
<P>
  <HR>
<ADDRESS>
  <A HREF="/People/Frystyk/">Henrik Frystyk Nielsen</A>,<BR>
  @(#) $Id$
</ADDRESS>
</BODY></HTML>
