<HTML>
<HEAD>
  <!-- Changed by: Henrik Frystyk Nielsen, 12-Feb-1996 -->
  <TITLE>W3C Reference Library Release Notes</TITLE>
</HEAD>
<BODY>
<P>
<A HREF="../../"><IMG ALT="W3C" SRC="../../Icons/WWW/w3c_48x48"></A>
<A HREF="../"><IMG ALT="libwww" SRC="../../Icons/WWW/Lib48x"></A>
<IMG SRC="../../Icons/WWW/relnotes48x" ALT="RELEASE">
<H1>
  Library 4.1 Release Notes
</H1>
<P>
If you are reading the text version of this document then you can find a
HTML version in
<PRE>	Library/User/ReleaseNotes.html
</PRE>
<P>
The focus for version 4.1 of the <A HREF="../">W3C Reference Library</A>
is to provide a set of higher level, application specific APIs for accessing
the Web. These APIs - called <A HREF="../src/HTProfil.html">profiles</A>
- will help the application, a Web client for example, to more easily use
the full potential of the application independent
<A HREF="../src/WWWCore.html">Library core</A>. Also, the Library contains
a significantly better interface for easy access to the Web through a
<A HREF="../src/HTAccess.html">large set of functions</A> specialized to
perform certain Web operations like <CODE>PUT</CODE>, <CODE>POST</CODE>,
<CODE>DELETE</CODE>, <CODE>GET</CODE> and <CODE>HEAD</CODE>.
<P>
<IMG SRC="../../Icons/32x32/caution" ALT="NOTE"> <B>Check out the latest
&nbsp;<A HREF="Extrnals.html">list of public functions</A></B>
<H2>
  Release 4.1b4 August 20 1996
</H2>
<P>
HTTP version 1.1 allows for effective use of persistent connections. However,
in orderto make this work, a client application must be capable of recovering
from a closed connection between sent requests. The beta 4 version of libwww
supports automatic connection recovery and provides the functionality for
performing pipelining of requests. That is, there can be multiple outstanding
requests on the same connection In order to do this, the release contains
&nbsp;modifications to the <A HREF="../src/HTChannl.html">Channel Object</A>,
the <A HREF="../src/HTHost.html">Host object</A> and the
<A HREF="../src/HTNet.html">Net object</A>.
<H3>
  New Features
</H3>
<UL>
  <LI>
    Added support for case-insensitive searching for proxies via environment
    variables
  <LI>
    Added support for proxy authentication
  <LI>
    Changed handling of proxies so that they are not included in the URL (invented
    by Lou M) but is now instead part of the request object. This allows for
    better handling of proxies and also for more freely use of the proxy filter
    as it doesn't affect the other filters anymore.
  <LI>
    Added support for TRACE HTTP method in the
    <A HREF="../src/HTAccess.html">HTAccess module</A>.
  <LI>
    Updated News DLL and incorporated News patches from <I>Maciej Puzio</I>
  <LI>
    <CODE>HT_PERSISTENT</CODE> is now obsolete and should be replaced by
    <CODE>HT_PENDING</CODE>
  <LI>
    The <CODE>HTChannelMode</CODE> enumeration describing the flow of a channel
    has been replaced by <CODE>HTTransportMode</CODE> as it is now a part of
    the transport object and not the channel object
  <LI>
    <CODE>HTNet_idle()</CODE> has been removed and replaced by
    <CODE>HTNet_isIdle()</CODE>. The function returns YES if there are no pending
    requests in libwww at all.
  <LI>
    Add support for checking public information about a host and use this information
    when issuing a PUT, for example. Also add check for host element in
    <A HREF="../src/HTAccess.html">HTAccess</A> when doing PUT. We may have public
    information available 
  <LI>
    Changed the return codes defined in <A HREF="../src/HTUtils.html">HTUtils
    </A>to reflect the values of the HTTP spec.
  <LI>
    Added support for <CODE>305 Use Proxy</CODE> redirections
  <LI>
    Updated <A HREF="../src/HTDir.html">HTDir module</A> to better use the fact
    that we know that an entry is a directory or not. Now it appends a '/' to
    the URL if it is a directory. That way we often avoid a redirection.
  <LI>
    Removed WWWRules as interface and merged it with the
    <A HREF="../src/WWWApp.html">WWWApp interface</A>. The reason was that the
    two were highly alike and depended on each other
</UL>
<H3>
  Bug Fixes
</H3>
<UL>
  <LI>
    Fixed problem with uploading directory listing using chunked encoding
  <LI>
    Fixed autoconf to handle WAIS and updated the HTWAIS.c module
  <LI>
    Fixed race problem in PUT on alphas
  <LI>
    Tested reentrant version of libwww (uses <CODE>_REENTRANT</CODE> define)
  <LI>
    Fixed problem in file name conversion from URL to local format on Windows
</UL>
<H2>
  Release 4.1b3 July 20 1996
</H2>
<P>
This release contains a <A HREF="../../Robot/">TCL add-on to the Robot
</A>example application and a <A HREF="../Test/User/">Deja GNU Test suite</A>
for the Library. Also, it support <A HREF="../../Protocols/">HTTP/1.1</A>
including persistent connections, two-way <CODE>PUT</CODE>, and the
<CODE>host</CODE> header. There is also a sample <A HREF="../src/HTPEP.c">PEP
implementation</A>, that although incomplete can give an idea of where we're
headed using PEP.
<P>
The <A HREF="../src/HTFile.html">file access module</A> now does content
negotiation by default. This means that all local file access (including
from client applications) <B>do</B> content negotiation when accessing local
files. Content negotiation can be turned off by setting a flag in the
<A HREF="../src/HTReq.html">request object</A>.
<P>
A main difference in beta 3 is that we now have a set of
"<A HREF="../src/HTProfil.html">application profiles</A>" that helps the
application to initialize <A HREF="../src/WWWCore.html">libwww core</A> to
work as a typical client, robot or other type of application. This should
replace the huge initialization procedure seen in previous versions. This
is in fact a result of the core being so flexible - it is inly a framework
for accessing the Web. The application must initialize all the functionality
at run-time. You can see the various profile functions in the
<A HREF="../src/WWWInit.html">WWWInit interface</A>.
<P>
The second main difference is that the <I>BEFORE</I> and <I>AFTER</I> filters
have been more explicit than before. The <CODE>HTLoadStart</CODE> and
<CODE>HTLoadTerminate</CODE> functions actually covered many typical
<I>BEFORE</I> and <I>AFTER</I> filter functions like looking for proxies,
searching the cache, looking for rule file matching, and logging etc.
<P>
However, two functions were not covered by this: <I>redirection</I> and
<I>authentication</I>. That is why the application in previous version had
to supply this functionality. However, in beta 3 we have split up the
<CODE>HTLoadStart</CODE> and <CODE>HTLoadTerminte</CODE> functions into a
<A HREF="../src/HTFilter.html">set of filters</A> which each perform only
a single function, for example looking for proxies. The split has two functions:
first it shows how you can use filtes to add new functionality to the Library
and second it can be used by more types of applications. A result of the
new filters is that we also have default redirection and authentication filters
so you don't have to provide this anymore.
<P>
The <A HREF="../src/HTFilter.html">filters</A> are set up as part of the
<A HREF="../src/HTProfil.html">profiles</A> so you will normally not have
to register them individually.
<H3>
  New features and Changes
</H3>
<UL>
  <LI>
    Introduced <A HREF="../src/HTUser.html">HTUserprofile</A> class to handle
    host and user specific information
  <LI>
    Added <A HREF="../src/HTTChunk.html">Chunked decoding and encoding module</A>
  <LI>
    A host name is not expanded to a <B>fqdn</B> name as it is not reliable enough.
    Now we just keep it as is, that is we don't expand <I>www</I> to
    <I>www.w3.org</I>, for example.
  <LI>
    Updated <A HREF="../src/HTML.html">HTML parser</A> to support
    <CODE>BASE</CODE> tag and <CODE>LINK</CODE> tag
  <LI>
    Added new access methods to the <A HREF="../src/HTAccess.html">HTAccess
    module</A>. It is now part of the <A HREF="../src/WWWApp.html">WWWApp
    interface</A>
  <LI>
    Updated the <A HREF="../src/HTIcons.html">Icon module</A> and added icons
    to the distribution file
  <LI>
    Added a <A HREF="../src/HTSChunk.html">Stream to Chunk converter </A>for
    easier conversion of streams into dynamic memory buffers
  <LI>
    Introduced <A HREF="../src/HTLib.html">HTLib</A> as a new core module. It
    contains generic information about the core which used to be in the HTAccess
    module.
  <LI>
    Added support for <A HREF="../../Protocols/">HTTP/1.1</A>. Most of the HTTP/1.1
    specification is now in place, we still need some headers and some features
    but this version can be considered to be compliant.
  <LI>
    Added suport for proxy authentication as specified by HTTP/1.1
  <LI>
    Added support for case-insensitive searching for proxies via environment
    variables
  <LI>
    Changed handling of proxies so that they are not included in the URL but
    is now instead part of the request object. This allows for better handling
    of proxies and also for more freely use of the proxy filter as it doesn't
    affect the other filters anymore.
</UL>
<H3>
  Bug Fixes
</H3>
<UL>
  <LI>
    Fixed problem with uploading directory listing using chunked encoding
  <LI>
    Fixed problem in the rule file parser. It didn't parse the last line of the
    config file
  <LI>
    Fixed autoconf to handle WAIS and updated the
    <A HREF="../src/HTWAIS.html">HTWAIS.c </A>module
  <LI>
    Fixed race problem in PUT on alphas which caused the PUT operation to hang
    under certain circumstances
</UL>
<H2>
  Release 4.1b1 May 20 1996
</H2>
<H3>
  New Features
</H3>
<UL>
  <LI>
    Introduced GNU autoconf configure script for compiling on Unix platforms
    instead of the old BUILD script. This should make it a lot easier to compile
    on Unix as we get all the advantages of GNU autoconf.
  <LI>
    Introduction of the <A HREF="../src/HTUser.html">HTUserprofile Class </A>which
    keeps track of a "user" known to the Library
  <LI>
    New access authentication interface allowing for dynamic registration of
    new access authentication mechanisms. It provides an easy API for hooking
    in new schemes.
  <LI>
    Improved handling of trace messages which allows for easy redirection of
    trace messages
  <LI>
    Support for registration of content coders/decoders and content transfer
    encoders/decoders. This is done the same way as for media types by registering
    a set of streams that can handle the various encodings.
  <LI>
    Support for <I>chunked</I> decoding
  <LI>
    Introduction of the <A HREF="../src/HTHost.html">HTHost Class</A> which keeps
    track of information about remote hosts
  <LI>
    The <A HREF="../src/HTDNS.html">DNS Class</A> has been simplified to handle
    DNS queries only. All additional information about the remote host is defined
    by the HThost Class.
  <LI>
    We have a new <A HREF="../src/HTEvent.html">HTEvent module</A> which allows
    for dynamic registration of an event manager. This will make it much easier
    to use external event managers together with libwww. If you wish to continue
    to use the event loop from HTEvntrg, you must register it explicitly with
    <A HREF="../src/HTEvntrg.html">HTEventrgInit</A>. This call is demonstrated
    in <A HREF="../../LineMode/src/HTBrowse.c">HTBrowse</A>.
  <LI>
    The <A HREF="../src/HTStream.html">HTStream module</A> has been created
    containing a set of basiv streams such as an error stream etc.
  <LI>
    Introduction of the <A HREF="../src/HTTrans.html">HTTransport Class</A>.
    This allows for dynamic registration of transport protocols such as for example
    the W3Mux protocol, TCP access, local file access etc.
  <LI>
    All MIME parsing is now done with registered parsers. The
    <A HREF="../src/HTMIME.html">HTMIME</A> module only unwraps the &nbsp;MIME
    header fields and calls the best parser. The header parsing origonally done
    in HTMIME can be found in <A HREF="../src/HTInit.c">HTInit.c</A> and is
    registered with <A HREF="../src/HTInit.html">HTMIMEInit</A>. This call is
    demonstrated in <A HREF="../../LineMode/src/HTBrowse.c">HTBrowse</A>.
</UL>
<P>
  <HR>
<ADDRESS>
  Henrik Frystyk Nielsen, <A HREF="mailto:libwww@w3.org">libwww@w3.org</A>,
  <P>
  @(#) $Id$
</ADDRESS>
</BODY></HTML>
