<HTML>
<HEAD>
<TITLE>Overview of the Library</TITLE>
<NEXTID N="z78">
</HEAD>
<BODY>

<A HREF="../../../"><IMG ALT="WWW" SRC="../../../Icons/WWW/WWW48x.gif"></A>
<A HREF="../../"><IMG ALT="Lib" SRC="../../../Icons/WWW/Lib48x.gif"></A>
<A HREF="Guide.html"><IMG ALT="LibGuide" SRC="../../../Icons/WWW/Tang48x.gif"></A>

<H1>Overview of the Library</H1>

The World-Wide Web Library of Common Code is a general code base which
can be used as the basis for building World-Wide Web applications, not
only clients but also servers, and proxy servers. As an example, the
<A HREF="../../../LineMode/Status.html">Line Mode Browser</A>, the <A
HREF="../../../NextStep/Status.html">NeXTStep Editor</A>, the <A
HREF="../../../Arena/Status.html">Arena Browser</A> and the <A
HREF="../../../Daemon/Status.html">HTTP Server</A> (including the <A
HREF="../../../Daemon/Proxies/Proxies.html">Proxy Server</A>) are
all built on top of the Library. It contains code for accessing <A
HREF="../../../Protocols/HTTP/HTTP2.html">HTTP</A>, <A
HREF="http://info.internet.isi.edu/0/in-notes/rfc/files/rfc765.txt">FTP</A>,
<A
HREF="http://info.internet.isi.edu/0/in-notes/rfc/files/rfc1436.txt">Gopher</A>,
<A
HREF="http://info.internet.isi.edu/0/in-notes/rfc/files/rfc977.txt">NNTP</A>,
and <A HREF="http://server.wais.com/z3950.html, WAIS Network
Publishing using Z3950">WAIS</A> servers, perform telnet sessions and
access the local file system. Furthermore it provides functionality
for loading, parsing and caching graphic objects plus a wide spectrum
of generic programming utilities.

The Library is written in plain C and is especially designed to be
used on a large set of different platforms. Currently it supports more
than 15 Unix flavors, VMS, and PC and Macintosh support is foreseen
before the end of 1994. <P>

The main application module is a platform dependent module called by
the operating system, and it manages the overall running of the
program.  In the <A HREF="../../../LineMode/Status.html">Line Mode
Browser</A>, it is <A
HREF="../../../LineMode/Implementation/HTBrowse.c"> HTBrowse</A>.  In
the <A HREF="../../../Daemon/Status.html">CERN HTTP Server</A>, it is
<A HREF="../../../Daemon/Implementation/HTDaemon.c"> HTDaemon</A>.
<P>

To get a quick overview of the Library and the capabilities, the best
thing is to study the control flow of the Library. The figure below
shows the module interface to a WWW Browser. In the diagram, the
Library code is to the right of the green line, and the client to the
left is the Line Mode Browser.<P>

<P><A NAME="Architecture"><IMG SRC="../Architecture/Library.gif"></A><P>

On behalf of the user, the client parses a request to the <A
HREF="../../Implementation/HTAccess.html">access manager</A> that is
the main entry node to the library. When the request has been
fulfilled and data has been received through the network, the data is
parsed back to the client either through the <A
HREF="../../Implementation/SGML.html"></A>, or the <A
HREF="../../Implementation/HText.html">HText module</A> depending on
the interface used by the client. See more on this in <A
HREF="Presentation.html">Information on presentation modules</A>.<P>

<DL>

<DT><A NAME="GraphicObject"
HREF="../../Implementation/HText.html">Graphic Object</A>

<DD>A graphic object is a displayable entity defined and maintained by
the client. It is built from the data contained in a server response
upon a successful request initiated by the user. The data can be of
any format handled by the client. The object can either be built
directly from the data, e.g., if the data object returned is an <A
HREF="../../../MarkUp/MarkUp.html">HTML</A> document, or it can be
generated from a format converter within the Library. An example of
the latter could be the generation of an HTML object from an FTP
directory listing (7-bit ASCII). Graphic objects are in general coded
differently on different platforms. The graphic object is responsible
for displaying itself, catching mouse clicks, and calling the
<CODE>anchor module</CODE>, either directly or via the <CODE>history
and navigation manager</CODE>. Often the more common term "document"
is used to describe the logical entity which a graphics object
represents and displays. The client can keep the latest generated
documents in memory in order to speed up back-tracking through already
visited documents. <P>

<DT><A HREF="../../Implementation/HTAccess.html">Access Manager</A>

<DD>All requests from the client goes to the <A
HREF="../../Implementation/HTAccess.html">Access Manager</A>. It can
either be passed a URI or an anchor. An <A
HREF="../../../Architecture/Anchors.html">anchor</A> is an object
representing the URI of either a graphic object or a fragment of a
graphic object. It contains all information known about the URI. The
<A HREF="../../Implementation/HTAnchor.html">anchor module</A>
registers all requested anchors together with anchors found when
parsing hypertext objects. The anchors are stored in a hash table so
that multiple references to a URI all points to the same graphic
object. It furthermore binds all registered anchors together
corresponding to the logical binding between the related data objects.
In other words, the <CODE>anchor module</CODE> generates an internal
model of the part of the Web the user has been in touch with. The
actual bindings between anchors are described in more detail in <A
HREF="../../../Architecture/Anchors.html">Anchor Definition</A>. <P>

<DT><A HREF="../../Implementation/HTAccess.html#ProtReg">Protocol
Manager</A>

<DD>The <CODE>protocol manager</CODE> is invoked by the <CODE>access
manager</CODE> in order to access a document not found in memory or in
the cache (for the proxy server it is the proxy cache). Each protocol
module is responsible for establishing the connection to the remote
server (or the local file-system) and extract information using a
specific access method.  Depending on the protocol, the <CODE>protocol
manager</CODE> either builds a hypertext object itself from the server
response, or it passes a socket descriptor to the <A
HREF="Stream.html">stream manager</A> for parsing by one of the parser
modules. <P>

<DT><A HREF="../../Implementation/HTFormat.html">Stream Format
Manager</A>

<DD>The <CODE>stream format manager</CODE> takes care of the
transportation of streams of data from the network to the client and
vice versa. This module is described in more detail in the <A
HREF="Stream.html">Stream description</A>. <P>

<DT><A HREF="../../Implementation/HTHist.html">Navigation and
History</A>

<DD>This module keeps track of all visited anchors. The set of visited
anchors is always less than or equal to the total set of anchors
registered in the <A HREF="../../Implementation/HTAnchor.html">anchor
module</A>. Whereas the <CODE>anchor module</CODE> manages a small
part of the Web, this module keeps an ordered list of all visited
anchors so the user can do quick navigation through a history
list. <P>

<DT><A NAME="ClientCache"
HREF="../../Implementation/HTFWrite.html#z3">Client Cache Manager</A>

<DD>This is a single-user disk cache manager specifically for WWW
client applications.  It is used to save data objects once they have
been downloaded from the Internet. The difference between a graphic
object stored in memory and a cached data object is that the former is
already parsed and can immediately be displayed to the user whereas
the cached object must be parsed into a graphic object. The <A
HREF="../../../Daemon/Proxies/Proxies.html">CERN proxy</A> server has
its own cache manager to handle a large scale cache that can serve
hundreds of clients connected to it. The client cache is especially
made for clients not using a proxy cache or having a very slow link
but a large local temporary storage. <P>

<DT><A HREF="../../Implementation/HTError.html">Error Manager</A>

<DD>This module manages an information stack which contains
information of all errors occurred during the communication with a
remote server or simply information about the current state. Using a
stack for this kind of information provides the possibility of nested
error messages like:

<PRE>
	Error 500
	Can't access document (ftp://info.cern.ch/foo.bar)
	Reason: FTP-server replies: foo.bar: No such file or directory
</PRE>

<DT><A HREF="../../Implementation/HTDirBrw.html">Directory Listing
Manager</A>

<DD>This module handles long directory listings with icons for HTTP
and FTP, and local file access. Long directory listings are supported
for Unix, VMS, and Window NT.

</DL>

<HR>

<ADDRESS><A HREF="../../../People.html#Frystyk">Henrik Frystyk</A>,
libwww@w3.org, April 1995</ADDRESS>

</BODY>
</HTML>
