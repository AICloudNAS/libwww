<HTML>
<HEAD>
  <TITLE>Command Line Syntax for the W3C Mini Robot</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000">
<P>
<A HREF="../"><IMG ALT="W3C" SRC="../../Icons/WWW/w3c_home" BORDER="0" WIDTH="72"
    HEIGHT="48"></A>
<A HREF="../"><IMG ALT="Robot" SRC="../../Icons/WWW/robot48x" WIDTH="48"
    HEIGHT="48" BORDER="0"></A> <IMG ALT="MANUAL" SRC="../../Icons/WWW/doc48x">
<H1>
  Command Line Syntax
</H1>
<P>
The generic syntax is:
<PRE> 	webbot [ <A HREF="#z19">options</A> ] [ <A HREF="#z16">URI</A> [ <A HREF="#z17">keywords</A> ] ]
</PRE>
<H2>
  <A NAME="z19">Options</A>
</H2>
<P>
The order of the options is not important and options can in fact be specified
on either side of any <A HREF="#z16"NAME="z14">URI</A>. Currently available
options are:-
<H3>
  Getting Help
</H3>
<DL>
  <DT>
    <B>-v [ a | b | c | g | p | s | t | u ] </B>
  <DD>
    Verbose mode: Gives a running commentary on the program's attempts to read
    data in various ways. As the amount of verbose output is substantial, the
    <TT>-v</TT> option can now be followed by zero, one or more of the following
    flags (without space) in order to differentiate the verbose output generated:
    <UL>
      <LI>
	<B>a</B>: Anchor relevant information
      <LI>
	<B>b</B>: Bindings to local file system
      <LI>
	<B>c</B>: Cache trace
      <LI>
	<B>g</B>: SGML trace
      <LI>
	<B>p</B>: Protocol module information
      <LI>
	<B>s</B>: SGML/HTML relevant information
      <LI>
	<B>t</B>: Thread trace
      <LI>
	<B>u</B>: URI relevant information
    </UL>
    <P>
    The <TT>-v</TT> option without any appended options shows all trace messages.
    An example is "<TT>-vpt</TT>" showing <EM>thread</EM> and <EM>protocol</EM>
    trace messages
  <DT>
    <B>-version</B>
  <DD>
    Prints out the version number of the robot and the version number of libwww
    and exits.
</DL>
<H3>
  <A NAME="Constraints">Setting Constraints for Traversal</A>
</H3>
<DL>
  <DT>
    <B>-depth [ n ]</B>
  <DD>
    Limit jumps to <B>n</B> hops from the start page. The n-1 link is checked
    using a <TT>HEAD</TT> request. The default value is 0 which means that only
    the start page is searched. A value of 1 will cause the start page <B>and</B>
    all pages directly linked from that start page to be checked.
  <DT>
    <B>-prefix [ URI ]</B>
  <DD>
    Define a URI prefix for all URIs - if they do not match the prefix then they
    are not checked. The rejected URIs can be <A HREF="#Logging">logged to a
    separate file</A>.
</DL>
<P>
The following options are only available if you have
<A HREF="../../INSTALL.html#features">linked against a regex library</A>
handling <A HREF="http://www.delorie.com/gnu/docs/rx/rx_3.html">regular
expressions</A>.
<DL>
  <DT>
    <B>-exclude [ regex ] </B>
  <DD>
    Allows you to define a
    <A HREF="http://www.delorie.com/gnu/docs/rx/rx_3.html">regular expression</A>
    of which URIs should be excluded from the traversal. The rejected URIs can
    be <A HREF="#Logging">logged to a separate file</A>. This can be used to
    exclude specific parts of the URI space, for example all URIs containing
    "/old/": <CODE>-exclude "/old/"</CODE>
  <DT>
    <B>-check [ regex ]</B>
  <DD>
    Check all URIs that match this regular expression with a <TT>HEAD</TT> method
    instead of a <TT>GET</TT> method. This can be used to verify links but avoiding
    downloading large distribution files like this: <CODE>-check
    "\.gz$|\.Z$|\.zip$|</CODE>, for example.
  <DT>
    <B>-include [ regex ]</B>
  <DD>
    Allows you to define a
    <A HREF="http://www.delorie.com/gnu/docs/rx/rx_3.html">regular expression</A>
    of which URIs should be included in the traversal
</DL>
<H3>
  <A NAME="Inlined">Checking Inlined Images</A>
</H3>
<DL>
  <DT>
    <B>-img</B>
  <DD>
    Test include inlined images using a <TT>HEAD</TT> request
  <DT>
    <B>-saveimg</B>
  <DD>
    Saving the inlined images on local disk or pump them to a black hole. This
    is primarily to emulate a GUI client's behavior using the robot
  <DT>
    <B>-alt [ file ]</B>
  <DD>
    Specifies a
    <A HREF="http://www.apache.org/docs/mod/mod_log_referer.html">Referer Log
    Format</A> style log file of all inlined images <EM>without or with an
    empty</EM> an <STRONG>ALT</STRONG> tag.
  <DT>
    <B>-prefix [ URI ]</B>
  <DD>
    Define a URI prefix for all inlined image URIs - if they do not match the
    prefix then they are not checked. The rejected URIs can be
    <A HREF="#Logging">logged to a separate file</A>.
</DL>
<H3>
  <A NAME="Logging">Logging and Statistics Features</A>
</H3>
<DL>
  <DT>
    <B>-404 [ file ]</B>
  <DD>
    Specifies a
    <A HREF="http://www.apache.org/docs/mod/mod_log_referer.html">Referer Log
    Format</A> style log file of all links resulting in a 404 (Not Found) status
    code
  <DT>
    <B>-format [ file ]</B>
  <DD>
    Specifies a log file of which media types (content types) were encountered
    in the run and their distribution
  <DT>
    <B>-charset [ file ]</B>
  <DD>
    Specifies a log file of which charsets (content type parameter) were encountered
    in the run and their distribution
  <DT>
    <B>-hitcount [ file]</B>
  <DD>
    Specifies a log file of URIs sorted after how many times they were encountered
    in the run
  <DT>
    <B>-l [ file ]</B>
  <DD>
    Specifies a
    <A HREF="../../Daemon/User/Config/Logging.html#common-logfile-format">Common
    Log File Format</A> style log file with a list of visited documents and the
    result codes obtained.
  <DT>
    <B>-negotiated [ file ]</B>
  <DD>
    Specifies a log file of all URIs that where subject to content negotiation.
  <DT>
    <B>-referer [ file ]</B>
  <DD>
    Specifies a
    <A HREF="http://www.apache.org/docs/mod/mod_log_referer.html">Referer Log
    Format</A> style log file of which documents points to which documents
  <DT>
    <B>-reject [ file ]</B>
  <DD>
    Specifies a log file of all the URIs encountered that didn't fulfill the
    <A HREF="#Constaints">constraints for traversal</A>.
</DL>
<H3>
  Persistent Cache
</H3>
<DL>
  <DT>
    <B>-cache</B>
  <DD>
    Enable the <A HREF="../../Library/src/WWWCache.html">libwww persistent
    cache</A>
  <DT>
    <B>-cacheroot [ dir ]</B>
  <DD>
    Where should the cache be located? The default is <TT>/tmp/w3c-cache</TT>
  <DT>
    <B>-validate</B>
  <DD>
    Force validation using either the <TT>etag</TT> or the <TT>last-modified
    </TT>date provided by the server
  <DT>
    <B>-endvalidate</B>
  <DD>
    Force end-to-end validation by adding a <TT>max-age=0</TT> cache control
    directive
</DL>
<H3>
  Other Options
</H3>
<DL>
  <DT>
    <B>-delay [ n]</B>
  <DD>
    Specify the write delay in milliseconds for how long we can wait until we
    flush the output buffer when using pipelining. The default value is 50 ms.
    The longer delay, the bigger TCP packets but also longer response time.
  <DT>
    <B>-n</B>
  <DD>
    Non-interactive mode.
  <DT>
    <B>-nopipe</B>
  <DD>
    Do <I>not</I> use HTTP/1.1 pipelining. The default for this option can be
    set using the <A HREF="../../INSTALL.html">configure script under
    installation</A>.
  <DT>
    <B>-o [ file ]</B>
  <DD>
    Redirects output to specified file. This mode forced non-interactive mode.
  <DT>
    <B>-q</B>
  <DD>
    Somewhat quit mode.
  <DT>
    <B>-Q</B>
  <DD>
    Really quit mode.
  <DT>
    <B>-r &lt;file&gt;</B>
  <DD>
    <A HREF="../../Library/User/Using/Rules.html">Rule file, a.k.a. configuration
    file</A>. If this is specified, a rule file may be used to map URLs, and
    to set up other aspects of the behavior of the browser. Many rule files may
    be given with successive -r options, and a default rule file name may be
    given using the <B>WWW_CONFIG</B> environment variable.
  <DT>
    <A NAME="single"><B>-single</B></A>
  <DD>
    Single threaded mode. If this flag is set then the browser uses blocking,
    non interruptible I/O in interactive mode. Non-interactive mode always uses
    blocking I/O.
  <DT>
    <B>-ss</B>
  <DD>
    Print out date and time for start and stop for the job.
  <DT>
    <B>-timeout &lt;n&gt;</B>
  <DD>
    Timeout in seconds on sockets
</DL>
<H2>
  <A NAME="z16">URI</A>
</H2>
<P>
The URI is the <A HREF="../../Addressing/Addressing.html"> hypertext
address</A> of the document at which you want to start the robot.
<H2>
  <A NAME="z17">keywords</A>
</H2>
<P>
Any further command line arguments are taken as keywords. The first argument
must refer to an index in this case. The index is searched for entries matching
the keywords, and a list of matching entries is displayed.
<P>
  <HR>
<ADDRESS>
  <A HREF="../../People/Frystyk/">Henrik Frystyk Nielsen</A><BR>
  @(#) $Id$
</ADDRESS>
</BODY></HTML>
