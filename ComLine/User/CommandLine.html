<HTML>
<HEAD>
  <TITLE>Command Line Syntax for the W3C Command Line Tool</TITLE>
  <LINK rel=STYLESHEET href="../../StyleSheets/Area/Overview.css" type="text/css">
</HEAD>
<BODY BGCOLOR="#ffffff">
<P>
<A HREF="../../"><IMG BORDER="0" ALT="W3C" SRC="../../Icons/WWW/w3c_home.gif"></A>
<A HREF="../"><IMG BORDER="0" ALT="ComLine" SRC="../../Icons/WWW/lines48x.gif"></A>
<IMG BORDER="0" ALT="MANUAL" SRC="../../Icons/WWW/doc48x.gif">
<H1>
  Command Line Syntax
</H1>
<P>
<DIV class="intro">
  The generic syntax is:
  <PRE>	w3c [ <A HREF="#z19">options</A> ]  [ <A HREF="#z16">URI</A> [ <A HREF="#z17">keywords</A> ]]
</PRE>
  <P>
  Check here the following options
  <UL>
    <LI>
      <A HREF="#Help">Getting Help</A>
    <LI>
      <A HREF="#Modes">Main Modes of execution</A>
    <LI>
      <A HREF="#Methods">Using Different HTTP Methods</A>
    <LI>
      <A HREF="#Format">Data Format Conversions</A>
    <LI>
      <A HREF="#Destination">Destination Address for PUT and POST</A>
    <LI>
      <A HREF="#Other">Other Options</A>
    <LI>
      <A HREF="#z17">Form Submission and Searching</A>
  </UL>
  <P>
  Henrik Frystyk Nielsen
</DIV>
<P>
  <HR>
<H2>
  <A NAME="z19">Options</A>
</H2>
<P>
The order of the options is not important and options can in fact be specified
on either side of any <A HREF="#z16"NAME="z14">docaddress</A>. Currently
available options are:-
<H3>
  <A NAME="Help">Getting Help</A>
</H3>
<DL>
  <DT>
    <B>-help</B> or <B>-?</B>
  <DD>
    Load this file from directly into the browser
  <DT>
    <B>-v [ a | b | c | g | p | s | t | u ] </B>
  <DD>
    Verbose mode: Gives a running commentary on the program's attempts to read
    data in various ways. As the amount of verbose output is substantial, the
    <CODE>-v</CODE> option can now be followed by zero, one or more of the following
    flags (without space) in order to differentiate the verbose output generated:
    <UL>
      <LI>
	<B>a</B>: Anchor relevant information
      <LI>
	<B>b</B>: Bindings to local file system
      <LI>
	<B>c</B>: Cache trace
      <LI>
	<B>g</B>: SGML trace
      <LI>
	<B>p</B>: Protocol module information
      <LI>
	<B>s</B>: SGML/HTML relevant information
      <LI>
	<B>t</B>: Thread trace
      <LI>
	<B>u</B>: URI relevant information
    </UL>
    <P>
    The <CODE>-v</CODE> option without any appended options shows all trace messages.
    An example is
    <PRE>
	-vpt
</PRE>
    <P>
    showing <EM>thread</EM> and <EM>protocol</EM> trace messages
  <DT>
    <B>-version</B>
  <DD>
    Prints out the version number of the software, and the version number of
    the WWW library, and exits.
</DL>
<H3>
  <A NAME="Modes">Main Modes of execution</A>
</H3>
<DL>
  <DT>
    <B>-</B>
  <DD>
    A minus sign with no trailing characters indicates that the program will
    accept <A HREF="../../MarkUp/MarkUp.html">HTML format</A> input from the
    standard input. This allows www to be used as a filter from html to plain
    text for example. Relative links in the input are parsed as though the address
    of the document was that of the home page (or docaddress if specified). Implies
    non-interactive mode.
  <DT>
    <B>-cl</B>
  <DD>
    Counting content length of the output. This flag appends the Content-Length
    counter stream to the output stream so that everything is counted. This works
    exactly like piping the output into <EM>wc</EM>.
  <DT>
    <B>-n</B>
  <DD>
    Non-interactive mode. Outputs the formatted document to the standard output
    without ever asking for anything. Pages are delimited with form feed (FF)
    characters.
  <DT>
    <B>-o</B> [ file ]
  <DD>
    Redirects output to specified file. The default value is
    "<CODE>w3c.out</CODE>". This mode forced non-interactive mode
  <DT>
    <A NAME="single"><B>-single</B></A>
  <DD>
    Singlethreaded mode. If this flag is set then the browser uses blocking,
    non interruptible I/O in interactive mode. Non-interactive mode always uses
    blocking I/O.
</DL>
<H3>
  <A NAME="Methods">Using Different HTTP Methods</A>
</H3>
<P>
The Command Line Tool supports several <A HREF="../../Protocols/">HTTP
methods</A>. The default value is "GET". These options imply non-interactive
execution.
<DL>
  <DT>
    <B>-get</B>
  <DD>
    Gets a document. This is the default operation! See <A HREF="#z17">Form
    Submission and Searching</A> for how to submit HTML forms and to issue queries.
  <DT>
    <B>-head</B>
  <DD>
    Returns the header information (if any) but not the document
  <DT>
    <B>-delete</B>
  <DD>
    Deletes a resource (or makes it unavailable) for future references.
  <DT>
    <B>-put</B>
  <DD>
    Uploads a document from either the local file system or a remote HTTP server
    to a remote HTTP server (destination) using <B>PUT</B> method. You must indicate
    the destination using the <A HREF="#dest"><B>-dest</B></A> command line option.
  <DT>
    <B>-post</B>
  <DD>
    Uploads a document from either the local file system or a remote HTTP server
    to a remote HTTP server (destination) using <B>POST</B> method. You must
    indicate the destination using the <A HREF="#dest"><B>-dest</B></A> command
    line option. See <A HREF="#z17">Form Submission and Searching</A> for how
    to submit HTML forms and to issue queries.
  <DT>
    <B>-options</B>
  <DD>
    Ask for the available options for this URL
  <DT>
    <B>-trace</B>
  <DD>
    Ask for trace messages for this URL. You can supply the number of hop counts
    with the additional <A HREF="#mf"><B>-maxforwards</B></A> command line option
</DL>
<H3>
  <A NAME="Format">Data Format Conversions</A>
</H3>
<P>
You can convert the outcome of a request to some other format by using the
following flags:
<DL>
  <DT>
    <B>-from</B> [ format ]
  <DD>
    Only if the Line mode Browser is executed as a filter (using the "-" option),
    this option indicates the desired input format. The default value is "text/html".
  <DT>
    <B>-to</B> [ format ]
  <DD>
    Format is the output format for www. Default value is "www/present" but may
    be changed according to the HTTP-specifications. Two common output formats
    are "www/source" that is the source without MIME-headers and "www/mime" that
    is the source with the MIME-header if any. Though also "text/latex" is possible
    which generates a LaTeX version of the (HTML) document. This can then be
    compiled using latex and put out as Postscript. Default value is presenting
    the output to the user.
  <DT>
    <B>-source</B>
  <DD>
    Display the original source (without any MIME-headers) of a document instead
    of parsing it.
</DL>
<H3>
  <A NAME="Destination">Destination Address for PUT and POST</A>
</H3>
<DL>
  <DT>
    <B><A NAME="dest">-dest</A></B>
  <DD>
    You can specify a (relative) destination URL, for example for the operations
    <CODE>PUT</CODE> and <CODE>POST</CODE> using this flag. For example:
    <PRE>
	-dest http://myserver/newfiles/foo.html
</PRE>
</DL>
<H3>
  <A NAME="Other">Other Options</A>
</H3>
<DL>
  <DT>
    <B>-l</B> [ file ]
  <DD>
    Specifies a log file with a list of visited documents. The default value
    is "<CODE>w3c.log</CODE>"
  <DT>
    <A NAME="mf"><B>-maxforwards</B></A> &lt;n&gt;
  <DD>
    Max forwards to be used with the TRACE method
  <DT>
    <B>-r</B> &lt;file&gt;
  <DD>
    Rule file, a.k.a. configuration file. If this is specified, a rule file may
    be used to map URLs, and to set up other aspects of the behavior of the browser.
    Many rule files may be given with successive -r options, and a default rule
    file name may be given using the <B>WWW_CONFIG</B> environment variable.
  <DT>
    <B>-timeout</B> &lt;n&gt;
  <DD>
    Timeout in seconds on sockets
</DL>
<H2>
  <A NAME="z16">URI</A>
</H2>
<P>
If present, the next argument (docaddress) is the
<A HREF="../../Addressing/Addressing.html"> hypertext address</A> , of the
document at which you want to start browsing. You may want to define an alias
for www followed by name of your favorite index.
<H2>
  <A NAME="z17">Form Submission and Searching</A>
</H2>
<P>
Any further command line arguments are taken as keywords. Keywords can be
used for two purposes:
<OL>
  <LI>
    As search tokens in an HTTP request-URI encoded so that all spaces are replaced
    with "<TT>+</TT>" and unsafe characters are encoded using the URI
    "<TT>%xx</TT>" escape mechanism. This is the default use of keywords.
  <LI>
    As form data in an HTTP POST request. Use the <TT>-form</TT> command line
    option to treat all keywords as form data. If the
    <A HREF="#Methods">method</A> is GET then the data is encoded as for search
    data, that is as part of the URI. If it is a <A HREF="#Methods">POST
    request</A> then the data is encoded as
    <A HREF="/TR/REC-html40/interact/forms.html#h-17.13.4">application/x-www-form-urlencoded</A>
    and sent in the body of the request.
</OL>
<P>
An example of a search query is
<PRE>	w3c http://... "RECORD=ID" "par1=a" "par2=b" "par3=c" "par4=d"
</PRE>
<P>
and of a POST form submission
<PRE>	w3c -post http://... -form "RECORD=ID" "COL1=a" "COL2=b" "COL3=c" "COL4=d"
</PRE>
<P>
  <HR>
<ADDRESS>
  <A HREF="../../People/Frystyk/">Henrik Frystyk Nielsen</A><BR>
  @(#) $Id$
</ADDRESS>
</BODY></HTML>
